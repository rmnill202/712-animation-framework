(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["update_1"],{"0834":function(t,e,n){},"486c":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("9a04"),a=n("75fc"),r=(n("28a5"),n("d225")),s=n("b0b4"),o=n("7fed"),l=function(){function t(e){Object(r["a"])(this,t),this.parseKeyframes(e),this.isPlaying=!1,this.hasEnded=!1,this.timeline=0,this.frameIndex=0}return Object(s["a"])(t,[{key:"parseKeyframes",value:function(t){var e=t.split("\n");this.frames=[],console.log(e);for(var n=0;n<e.length;n++){var i=e[n].split(/\s+/);i.length>=8&&this.frames.push({start:1e3*parseFloat(i[0]),isEnd:n==e.length-1,x:parseFloat(i[1]),y:parseFloat(i[2]),z:parseFloat(i[3]),xa:parseFloat(i[4]),ya:parseFloat(i[5]),za:parseFloat(i[6]),theta:parseFloat(i[7]),thetaRad:parseFloat(i[7])*(Math.PI/180)})}}},{key:"playing",value:function(){return this.isPlaying&&!this.hasEnded}},{key:"restart",value:function(){this.isPlaying=!1,this.timeline=0,this.frameIndex=0,this.hasEnded=!1}},{key:"play",value:function(){this.hasEnded||(this.isPlaying=!0)}},{key:"pause",value:function(){this.isPlaying=!1}},{key:"getFrame",value:function(t){if(this.playing()){this.timeline;this.timeline+=t;var e=this.frames[this.frameIndex];while(!e.isEnd&&this.timeline>=this.frames[this.frameIndex+1].start)e=this.frames[++this.frameIndex];var n=this.computeFrameDetails(e);return e.isEnd&&(this.isPlaying=!1,this.hasEnded=!0,this.timeline=e.start),n}return{}}},{key:"computeFrameDetails",value:function(t){if(t.isEnd||this.timeline==t.start){var e=new o["Quaternion"];return e.setFromAxisAngle(new o["Vector3"](t.xa,t.ya,t.za).normalize(),t.thetaRad),{pos:{x:t.x,y:t.y,z:t.z},rot:e}}var n=this.translation_lerp(t,this.frames[this.frameIndex+1]),i=this.rotation_slerp(t,this.frames[this.frameIndex+1]);return{pos:n,rot:i}}},{key:"alt_slerp",value:function(t,e){var n=this.lerp_find_u(t.start,e.start,this.timeline),i=new o["Quaternion"],a=new o["Quaternion"];return i.setFromAxisAngle(new o["Vector3"](t.xa,t.ya,t.za).normalize(),t.thetaRad),a.setFromAxisAngle(new o["Vector3"](e.xa,e.ya,e.za).normalize(),e.thetaRad),i.slerp(a,n)}},{key:"rotation_slerp",value:function(t,e){var n=this.lerp_find_u(t.start,e.start,this.timeline),r=new o["Quaternion"],s=new o["Quaternion"];r.setFromAxisAngle(new o["Vector3"](t.xa,t.ya,t.za).normalize(),t.thetaRad),s.setFromAxisAngle(new o["Vector3"](e.xa,e.ya,e.za).normalize(),e.thetaRad),r.normalize(),s.normalize();var l=r.dot(s);l<=0&&(r.set(-r.x,-r.y,-r.z,-r.w),l=-l);var u=Math.acos(l),h=Math.sin(u),c=Math.sin((1-n)*u)/h,m=Math.sin(n*u)/h,d=Object(i["a"])(o["Vector4"],Object(a["a"])(r.toArray()));d.multiplyScalar(c);var f=Object(i["a"])(o["Vector4"],Object(a["a"])(s.toArray()));return f.multiplyScalar(m),Object(i["a"])(o["Quaternion"],Object(a["a"])(d.add(f).toArray()))}},{key:"translation_lerp",value:function(t,e){var n=this.lerp_find_u(t.start,e.start,this.timeline);return{x:this.lerp(t.x,e.x,n),y:this.lerp(t.y,e.y,n),z:this.lerp(t.z,e.z,n)}}},{key:"lerp",value:function(t,e,n){return t+n*(e-t)}},{key:"lerp_find_u",value:function(t,e,n){return(n-t)/(e-t)}}]),t}()},"51dd":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Assignment 1 - Keyframing")]),n("h2",[t._v("Results")]),n("DynamicFramework"),n("h2",[t._v("Summary")]),t._m(0),t._m(1)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"left"}},[n("div",{staticClass:"update-text"},[t._v(" A simple keyframed animation. I ended up handling the interpolation of translation/rotation in addition to actually\n      setting up the keyframing for entities. While the classes/structures aren't fully fleshed out, I came up with a simple domain-ish model before\n      getting started. I'd like to extract the work I've done out into its own well designed subsystem at some point, but I'm waiting until a later\n      assignment so that I can get a better idea of how to structure things with different types of animation (physics, keyframing etc...)\n    ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"text-align":"left"}},[i("img",{staticStyle:{"max-width":"600px",width:"100%",display:"block",margin:"auto"},attrs:{src:n("e2b7")}})])}],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{width:"500px",height:"500px",margin:"auto"},attrs:{id:"three-js-div"}}),n("button",{staticStyle:{margin:"10px auto"},on:{click:function(e){return t.loadAnimation()}}},[t._v("Load Animation")]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.animationInput,expression:"animationInput"}],staticStyle:{width:"300px",height:"190px"},domProps:{value:t.animationInput},on:{input:function(e){e.target.composing||(t.animationInput=e.target.value)}}})])])},s=[],o=(n("ac4d"),n("8a81"),n("ac6a"),n("7fed")),l=n("5d44"),u=n("486c"),h={data:function(){return{camera:null,scene:null,renderer:null,mesh:null,sceneObjects:[],animationInput:"0.0  0.0 0.0 0.0 1.0 1.0 -1.0 0.0\n1.0  4.0 0.0 0.0 1.0 1.0 -1.0 30.0\n2.0  8.0 0.0 0.0 1.0 1.0 -1.0 90.0\n3.0  12.0 12.0 12.0 1.0 1.0 -1.0 180.0\n4.0  12.0 18.0 18.0 1.0 1.0 -1.0 270.0\n5.0  18.0 18.0 18.0 0.0 1.0 0.0 90.0\n6.0  18.0 18.0 18.0 0.0 0.0 1.0 90.0\n7.0  25.0 12.0 12.0 1.0 0.0 0.0 0.0\n8.0  25.0 0.0 18.0 1.0 0.0 0.0 0.0\n9.0 25.0 1.0 18.0 1.0 0.0 0.0 0.0",originTime:0,lastFrameTime:0,endTime:2e4,isPaused:!1}},methods:{init_threejs:function(){var t=document.getElementById("three-js-div");this.scene=new o["Scene"],this.camera=new o["PerspectiveCamera"](75,t.clientWidth/t.clientHeight,5,1e3),this.camera.position.z=-30,this.camera.rotateY(Math.PI),this.setupScene(),this.renderer=new o["WebGLRenderer"]({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),this.originTime=performance.now(),this.lastFrameTime=this.originTime,t.appendChild(this.renderer.domElement)},setupScene:function(){var t=new o["BoxGeometry"](5,5,5),e=new o["MeshNormalMaterial"],n=new o["Mesh"](t,e);new l["a"](n);this.sceneObjects.push(new l["a"](n));var i=!0,a=!1,r=void 0;try{for(var s,u=this.sceneObjects[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var h=s.value;this.scene.add(h.mesh)}}catch(c){a=!0,r=c}finally{try{i||null==u.return||u.return()}finally{if(a)throw r}}},updateScene:function(t){var e=!0,n=!1,i=void 0;try{for(var a,r=this.sceneObjects[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var s=a.value;s.update(t)}}catch(o){n=!0,i=o}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}},animationLoop:function(t){requestAnimationFrame(this.animationLoop);var e=t-this.originTime;this.originTime=t,this.updateScene(e),this.renderer.render(this.scene,this.camera)},loadAnimation:function(){this.sceneObjects[0].setAnimation(new u["a"](this.animationInput))},restart:function(){},togglePause:function(){this.isPaused=!this.isPaused}},mounted:function(){this.init_threejs(),this.animationLoop()}},c=h,m=n("2877"),d=Object(m["a"])(c,r,s,!1,null,null,null),f=d.exports,p={components:{DynamicFramework:f}},y=p,v=(n("bba0"),Object(m["a"])(y,i,a,!1,null,null,null));e["default"]=v.exports},bba0:function(t,e,n){"use strict";var i=n("0834"),a=n.n(i);a.a},e2b7:function(t,e,n){t.exports=n.p+"img/model_1.59cd0224.svg"}}]);
//# sourceMappingURL=update_1.4c8e3de2.js.map